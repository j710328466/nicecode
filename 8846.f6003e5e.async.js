"use strict";(self.webpackChunknicecode=self.webpackChunknicecode||[]).push([[8846],{98846:function(Ia,wa,Z){Z.d(wa,{Z:function(){return Ga}});var A=Z(35194),B=Z(30309),Sa=Z(50446),va=Z(89337),ba=Z(82187),Gr=Z.n(ba),sa=Z(12682),Ue=Z(61768),je=Z(66913),$r=Z(92577),Da=Z(98702),tr=Z(80918),Na=Z(80564),o=Z(50959),fa=Z(91010),ca=Z(10091),ye=Z(78404);function La(r){var t=r.prefixCls,e=r.align,n=r.arrow,i=r.arrowPos,v=n||{},s=v.className,h=v.content,m=i.x,c=m===void 0?0:m,N=i.y,f=N===void 0?0:N,H=o.useRef();if(!e||!e.points)return null;var d={position:"absolute"};if(e.autoArrow!==!1){var R=e.points[0],E=e.points[1],$=R[0],k=R[1],W=E[0],w=E[1];$===W||!["t","b"].includes($)?d.top=f:$==="t"?d.top=0:d.bottom=0,k===w||!["l","r"].includes(k)?d.left=c:k==="l"?d.left=0:d.right=0}return o.createElement("div",{ref:H,className:Gr()("".concat(t,"-arrow"),s),style:d},h)}function Ta(r){var t=r.prefixCls,e=r.open,n=r.zIndex,i=r.mask,v=r.motion;return i?o.createElement(ca.ZP,(0,fa.Z)({},v,{motionAppear:!0,visible:e,removeOnLeave:!0}),function(s){var h=s.className;return o.createElement("div",{style:{zIndex:n},className:Gr()("".concat(t,"-mask"),h)})}):null}var $a=o.memo(function(r){var t=r.children;return t},function(r,t){return t.cache}),Wa=$a,za=o.forwardRef(function(r,t){var e=r.popup,n=r.className,i=r.prefixCls,v=r.style,s=r.target,h=r.onVisibleChanged,m=r.open,c=r.keepDom,N=r.fresh,f=r.onClick,H=r.mask,d=r.arrow,R=r.arrowPos,E=r.align,$=r.motion,k=r.maskMotion,W=r.forceRender,w=r.getPopupContainer,u=r.autoDestroy,Q=r.portal,Zr=r.zIndex,vr=r.onMouseEnter,wr=r.onMouseLeave,Wr=r.onPointerEnter,Sr=r.ready,zr=r.offsetX,sr=r.offsetY,fr=r.offsetR,nr=r.offsetB,cr=r.onAlign,L=r.onPrepare,z=r.stretch,g=r.targetWidth,G=r.targetHeight,C=typeof e=="function"?e():e,or=m||c,O=(w==null?void 0:w.length)>0,ie=o.useState(!w||!O),Ir=(0,B.Z)(ie,2),dr=Ir[0],qr=Ir[1];if((0,tr.Z)(function(){!dr&&O&&s&&qr(!0)},[dr,O,s]),!dr)return null;var _="auto",x={left:"-1000vw",top:"-1000vh",right:_,bottom:_};if(Sr||!m){var K,ir=E.points,lr=E.dynamicInset||((K=E._experimental)===null||K===void 0?void 0:K.dynamicInset),Yr=lr&&ir[0][1]==="r",le=lr&&ir[0][0]==="b";Yr?(x.right=fr,x.left=_):(x.left=zr,x.right=_),le?(x.bottom=nr,x.top=_):(x.top=sr,x.bottom=_)}var F={};return z&&(z.includes("height")&&G?F.height=G:z.includes("minHeight")&&G&&(F.minHeight=G),z.includes("width")&&g?F.width=g:z.includes("minWidth")&&g&&(F.minWidth=g)),m||(F.pointerEvents="none"),o.createElement(Q,{open:W||or,getContainer:w&&function(){return w(s)},autoDestroy:u},o.createElement(Ta,{prefixCls:i,open:m,zIndex:Zr,mask:H,motion:k}),o.createElement(sa.Z,{onResize:cr,disabled:!m},function(Xr){return o.createElement(ca.ZP,(0,fa.Z)({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:W,leavedClassName:"".concat(i,"-hidden")},$,{onAppearPrepare:L,onEnterPrepare:L,visible:m,onVisibleChanged:function(j){var hr;$==null||(hr=$.onVisibleChanged)===null||hr===void 0||hr.call($,j),h(j)}}),function(br,j){var hr=br.className,y=br.style,xr=Gr()(i,hr,n);return o.createElement("div",{ref:(0,ye.sQ)(Xr,t,j),className:xr,style:(0,A.Z)((0,A.Z)((0,A.Z)((0,A.Z)({"--arrow-x":"".concat(R.x||0,"px"),"--arrow-y":"".concat(R.y||0,"px")},x),F),y),{},{boxSizing:"border-box",zIndex:Zr},v),onMouseEnter:vr,onMouseLeave:wr,onPointerEnter:Wr,onClick:f},d&&o.createElement(La,{prefixCls:i,arrow:d,arrowPos:R,align:E}),o.createElement(Wa,{cache:!m&&!N},C))})}))}),xa=za,Ba=o.forwardRef(function(r,t){var e=r.children,n=r.getTriggerDOMNode,i=(0,ye.Yr)(e),v=o.useCallback(function(h){(0,ye.mH)(t,n?n(h):h)},[n]),s=(0,ye.x1)(v,e.ref);return i?o.cloneElement(e,{ref:s}):e}),ka=Ba,Ha=o.createContext(null),da=Ha;function ha(r){return r?Array.isArray(r)?r:[r]:[]}function Ra(r,t,e,n){return o.useMemo(function(){var i=ha(e!=null?e:t),v=ha(n!=null?n:t),s=new Set(i),h=new Set(v);return r&&(s.has("hover")&&(s.delete("hover"),s.add("click")),h.has("hover")&&(h.delete("hover"),h.add("click"))),[s,h]},[r,t,e,n])}var Ea=Z(81837);function Fa(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],e=arguments.length>2?arguments[2]:void 0;return e?r[0]===t[0]:r[0]===t[0]&&r[1]===t[1]}function Aa(r,t,e,n){for(var i=e.points,v=Object.keys(r),s=0;s<v.length;s+=1){var h,m=v[s];if(Fa((h=r[m])===null||h===void 0?void 0:h.points,i,n))return"".concat(t,"-placement-").concat(m)}return""}function ga(r,t,e,n){return t||(e?{motionName:"".concat(r,"-").concat(e)}:n?{motionName:n}:null)}function te(r){return r.ownerDocument.defaultView}function Je(r){for(var t=[],e=r==null?void 0:r.parentElement,n=["hidden","scroll","clip","auto"];e;){var i=te(e).getComputedStyle(e),v=i.overflowX,s=i.overflowY,h=i.overflow;[v,s,h].some(function(m){return n.includes(m)})&&t.push(e),e=e.parentElement}return t}function ne(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(r)?t:r}function oe(r){return ne(parseFloat(r),0)}function ma(r,t){var e=(0,A.Z)({},r);return(t||[]).forEach(function(n){if(!(n instanceof HTMLBodyElement||n instanceof HTMLHtmlElement)){var i=te(n).getComputedStyle(n),v=i.overflow,s=i.overflowClipMargin,h=i.borderTopWidth,m=i.borderBottomWidth,c=i.borderLeftWidth,N=i.borderRightWidth,f=n.getBoundingClientRect(),H=n.offsetHeight,d=n.clientHeight,R=n.offsetWidth,E=n.clientWidth,$=oe(h),k=oe(m),W=oe(c),w=oe(N),u=ne(Math.round(f.width/R*1e3)/1e3),Q=ne(Math.round(f.height/H*1e3)/1e3),Zr=(R-E-W-w)*u,vr=(H-d-$-k)*Q,wr=$*Q,Wr=k*Q,Sr=W*u,zr=w*u,sr=0,fr=0;if(v==="clip"){var nr=oe(s);sr=nr*u,fr=nr*Q}var cr=f.x+Sr-sr,L=f.y+wr-fr,z=cr+f.width+2*sr-Sr-zr-Zr,g=L+f.height+2*fr-wr-Wr-vr;e.left=Math.max(e.left,cr),e.top=Math.max(e.top,L),e.right=Math.min(e.right,z),e.bottom=Math.min(e.bottom,g)}}),e}function ya(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e="".concat(t),n=e.match(/^(.*)\%$/);return n?r*(parseFloat(n[1])/100):parseFloat(e)}function Ca(r,t){var e=t||[],n=(0,B.Z)(e,2),i=n[0],v=n[1];return[ya(r.width,i),ya(r.height,v)]}function Ma(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[r[0],r[1]]}function Kr(r,t){var e=t[0],n=t[1],i,v;return e==="t"?v=r.y:e==="b"?v=r.y+r.height:v=r.y+r.height/2,n==="l"?i=r.x:n==="r"?i=r.x+r.width:i=r.x+r.width/2,{x:i,y:v}}function Pr(r,t){var e={t:"b",b:"t",l:"r",r:"l"};return r.map(function(n,i){return i===t?e[n]||"c":n}).join("")}function Va(r,t,e,n,i,v,s){var h=o.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:i[n]||{}}),m=(0,B.Z)(h,2),c=m[0],N=m[1],f=o.useRef(0),H=o.useMemo(function(){return t?Je(t):[]},[t]),d=o.useRef({}),R=function(){d.current={}};r||R();var E=(0,$r.Z)(function(){if(t&&e&&r){let Y=function(He,X){var ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:xr,Re=C.x+He,ae=C.y+X,Ee=Re+K,me=ae+x,Fe=Math.max(Re,ee.left),oa=Math.max(ae,ee.top),ia=Math.min(Ee,ee.right),la=Math.min(me,ee.bottom);return Math.max(0,(ia-Fe)*(la-oa))},ke=function(){Fr=C.y+S,Ar=Fr+x,yr=C.x+D,Vr=yr+K};var W,w,u=t,Q=u.ownerDocument,Zr=te(u),vr=Zr.getComputedStyle(u),wr=vr.width,Wr=vr.height,Sr=vr.position,zr=u.style.left,sr=u.style.top,fr=u.style.right,nr=u.style.bottom,cr=u.style.overflow,L=(0,A.Z)((0,A.Z)({},i[n]),v),z=Q.createElement("div");(W=u.parentElement)===null||W===void 0||W.appendChild(z),z.style.left="".concat(u.offsetLeft,"px"),z.style.top="".concat(u.offsetTop,"px"),z.style.position=Sr,z.style.height="".concat(u.offsetHeight,"px"),z.style.width="".concat(u.offsetWidth,"px"),u.style.left="0",u.style.top="0",u.style.right="auto",u.style.bottom="auto",u.style.overflow="hidden";var g;if(Array.isArray(e))g={x:e[0],y:e[1],width:0,height:0};else{var G=e.getBoundingClientRect();g={x:G.x,y:G.y,width:G.width,height:G.height}}var C=u.getBoundingClientRect(),or=Q.documentElement,O=or.clientWidth,ie=or.clientHeight,Ir=or.scrollWidth,dr=or.scrollHeight,qr=or.scrollTop,_=or.scrollLeft,x=C.height,K=C.width,ir=g.height,lr=g.width,Yr={left:0,top:0,right:O,bottom:ie},le={left:-_,top:-qr,right:Ir-_,bottom:dr-qr},F=L.htmlRegion,Xr="visible",br="visibleFirst";F!=="scroll"&&F!==br&&(F=Xr);var j=F===br,hr=ma(le,H),y=ma(Yr,H),xr=F===Xr?y:hr,I=j?y:xr;u.style.left="auto",u.style.top="auto",u.style.right="0",u.style.bottom="0";var Ce=u.getBoundingClientRect();u.style.left=zr,u.style.top=sr,u.style.right=fr,u.style.bottom=nr,u.style.overflow=cr,(w=u.parentElement)===null||w===void 0||w.removeChild(z);var Br=ne(Math.round(K/parseFloat(wr)*1e3)/1e3),kr=ne(Math.round(x/parseFloat(Wr)*1e3)/1e3);if(Br===0||kr===0||(0,Ue.S)(e)&&!(0,Ea.Z)(e))return;var Me=L.offset,V=L.targetOffset,Qe=Ca(C,Me),ue=(0,B.Z)(Qe,2),p=ue[0],rr=ue[1],Pe=Ca(g,V),er=(0,B.Z)(Pe,2),Ge=er[0],Ze=er[1];g.x-=Ge,g.y-=Ze;var Ke=L.points||[],Hr=(0,B.Z)(Ke,2),q=Hr[0],Dr=Hr[1],gr=Ma(Dr),J=Ma(q),we=Kr(g,gr),Se=Kr(C,J),mr=(0,A.Z)({},L),D=we.x-Se.x+p,S=we.y-Se.y+rr,b=Y(D,S),Or=Y(D,S,y),Nr=Kr(g,["t","l"]),Rr=Kr(C,["t","l"]),ve=Kr(g,["b","r"]),se=Kr(C,["b","r"]),Er=L.overflow||{},ar=Er.adjustX,Ie=Er.adjustY,fe=Er.shiftX,_r=Er.shiftY,ce=function(X){return typeof X=="boolean"?X:X>=0},Fr,Ar,yr,Vr;ke();var be=ce(Ie),de=J[0]===gr[0];if(be&&J[0]==="t"&&(Ar>I.bottom||d.current.bt)){var Lr=S;de?Lr-=x-ir:Lr=Nr.y-se.y-rr;var De=Y(D,Lr),pr=Y(D,Lr,y);De>b||De===b&&(!j||pr>=Or)?(d.current.bt=!0,S=Lr,rr=-rr,mr.points=[Pr(J,0),Pr(gr,0)]):d.current.bt=!1}if(be&&J[0]==="b"&&(Fr<I.top||d.current.tb)){var Ur=S;de?Ur+=x-ir:Ur=ve.y-Rr.y-rr;var U=Y(D,Ur),qe=Y(D,Ur,y);U>b||U===b&&(!j||qe>=Or)?(d.current.tb=!0,S=Ur,rr=-rr,mr.points=[Pr(J,0),Pr(gr,0)]):d.current.tb=!1}var Ne=ce(ar),Le=J[1]===gr[1];if(Ne&&J[1]==="l"&&(Vr>I.right||d.current.rl)){var jr=D;Le?jr-=K-lr:jr=Nr.x-se.x-p;var Te=Y(jr,S),Ye=Y(jr,S,y);Te>b||Te===b&&(!j||Ye>=Or)?(d.current.rl=!0,D=jr,p=-p,mr.points=[Pr(J,1),Pr(gr,1)]):d.current.rl=!1}if(Ne&&J[1]==="r"&&(yr<I.left||d.current.lr)){var Jr=D;Le?Jr+=K-lr:Jr=ve.x-Rr.x-p;var $e=Y(Jr,S),Xe=Y(Jr,S,y);$e>b||$e===b&&(!j||Xe>=Or)?(d.current.lr=!0,D=Jr,p=-p,mr.points=[Pr(J,1),Pr(gr,1)]):d.current.lr=!1}ke();var ur=fe===!0?0:fe;typeof ur=="number"&&(yr<y.left&&(D-=yr-y.left-p,g.x+lr<y.left+ur&&(D+=g.x-y.left+lr-ur)),Vr>y.right&&(D-=Vr-y.right-p,g.x>y.right-ur&&(D+=g.x-y.right+ur)));var Cr=_r===!0?0:_r;typeof Cr=="number"&&(Fr<y.top&&(S-=Fr-y.top-rr,g.y+ir<y.top+Cr&&(S+=g.y-y.top+ir-Cr)),Ar>y.bottom&&(S-=Ar-y.bottom-rr,g.y>y.bottom-Cr&&(S+=g.y-y.bottom+Cr)));var he=C.x+D,We=he+K,Tr=C.y+S,Qr=Tr+x,ge=g.x,re=ge+lr,Mr=g.y,Oe=Mr+ir,_e=Math.max(he,ge),pe=Math.min(We,re),ze=(_e+pe)/2,ra=ze-he,ea=Math.max(Tr,Mr),aa=Math.min(Qr,Oe),xe=(ea+aa)/2,ta=xe-Tr;s==null||s(t,mr);var na=Ce.right-C.x-(D+C.width),Be=Ce.bottom-C.y-(S+C.height);N({ready:!0,offsetX:D/Br,offsetY:S/kr,offsetR:na/Br,offsetB:Be/kr,arrowX:ra/Br,arrowY:ta/kr,scaleX:Br,scaleY:kr,align:mr})}}),$=function(){f.current+=1;var w=f.current;Promise.resolve().then(function(){f.current===w&&E()})},k=function(){N(function(w){return(0,A.Z)((0,A.Z)({},w),{},{ready:!1})})};return(0,tr.Z)(k,[n]),(0,tr.Z)(function(){r||k()},[r]),[c.ready,c.offsetX,c.offsetY,c.offsetR,c.offsetB,c.arrowX,c.arrowY,c.scaleX,c.scaleY,c.align,$]}var Pa=Z(83288);function Ua(r,t,e,n,i){(0,tr.Z)(function(){if(r&&t&&e){let f=function(){n(),i()};var v=t,s=e,h=Je(v),m=Je(s),c=te(s),N=new Set([c].concat((0,Pa.Z)(h),(0,Pa.Z)(m)));return N.forEach(function(H){H.addEventListener("scroll",f,{passive:!0})}),c.addEventListener("resize",f,{passive:!0}),n(),function(){N.forEach(function(H){H.removeEventListener("scroll",f),c.removeEventListener("resize",f)})}}},[r,t,e])}var qa=Z(24694);function ja(r,t,e,n,i,v,s,h){var m=o.useRef(r);m.current=r,o.useEffect(function(){if(t&&n&&(!i||v)){var c=function(k){var W=k.target;m.current&&!s(W)&&h(!1)},N=te(n);N.addEventListener("mousedown",c,!0),N.addEventListener("contextmenu",c,!0);var f=(0,je.A)(e);if(f&&(f.addEventListener("mousedown",c,!0),f.addEventListener("contextmenu",c,!0)),!1)var H,d,R,E;return function(){N.removeEventListener("mousedown",c,!0),N.removeEventListener("contextmenu",c,!0),f&&(f.removeEventListener("mousedown",c,!0),f.removeEventListener("contextmenu",c,!0))}}},[t,e,n,i,v])}var Ja=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function Qa(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:va.Z,t=o.forwardRef(function(e,n){var i=e.prefixCls,v=i===void 0?"rc-trigger-popup":i,s=e.children,h=e.action,m=h===void 0?"hover":h,c=e.showAction,N=e.hideAction,f=e.popupVisible,H=e.defaultPopupVisible,d=e.onPopupVisibleChange,R=e.afterPopupVisibleChange,E=e.mouseEnterDelay,$=e.mouseLeaveDelay,k=$===void 0?.1:$,W=e.focusDelay,w=e.blurDelay,u=e.mask,Q=e.maskClosable,Zr=Q===void 0?!0:Q,vr=e.getPopupContainer,wr=e.forceRender,Wr=e.autoDestroy,Sr=e.destroyPopupOnHide,zr=e.popup,sr=e.popupClassName,fr=e.popupStyle,nr=e.popupPlacement,cr=e.builtinPlacements,L=cr===void 0?{}:cr,z=e.popupAlign,g=e.zIndex,G=e.stretch,C=e.getPopupClassNameFromAlign,or=e.fresh,O=e.alignPoint,ie=e.onPopupClick,Ir=e.onPopupAlign,dr=e.arrow,qr=e.popupMotion,_=e.maskMotion,x=e.popupTransitionName,K=e.popupAnimation,ir=e.maskTransitionName,lr=e.maskAnimation,Yr=e.className,le=e.getTriggerDOMNode,F=(0,Sa.Z)(e,Ja),Xr=Wr||Sr||!1,br=o.useState(!1),j=(0,B.Z)(br,2),hr=j[0],y=j[1];(0,tr.Z)(function(){y((0,Na.Z)())},[]);var xr=o.useRef({}),I=o.useContext(da),Ce=o.useMemo(function(){return{registerSubPopup:function(l,M){xr.current[l]=M,I==null||I.registerSubPopup(l,M)}}},[I]),Br=(0,Da.Z)(),kr=o.useState(null),Me=(0,B.Z)(kr,2),V=Me[0],Qe=Me[1],ue=o.useRef(null),p=(0,$r.Z)(function(a){ue.current=a,(0,Ue.S)(a)&&V!==a&&Qe(a),I==null||I.registerSubPopup(Br,a)}),rr=o.useState(null),Pe=(0,B.Z)(rr,2),er=Pe[0],Ge=Pe[1],Ze=o.useRef(null),Ke=(0,$r.Z)(function(a){(0,Ue.S)(a)&&er!==a&&(Ge(a),Ze.current=a)}),Hr=o.Children.only(s),q=(Hr==null?void 0:Hr.props)||{},Dr={},gr=(0,$r.Z)(function(a){var l,M,T=er;return(T==null?void 0:T.contains(a))||((l=(0,je.A)(T))===null||l===void 0?void 0:l.host)===a||a===T||(V==null?void 0:V.contains(a))||((M=(0,je.A)(V))===null||M===void 0?void 0:M.host)===a||a===V||Object.values(xr.current).some(function(P){return(P==null?void 0:P.contains(a))||a===P})}),J=ga(v,qr,K,x),we=ga(v,_,lr,ir),Se=o.useState(H||!1),mr=(0,B.Z)(Se,2),D=mr[0],S=mr[1],b=f!=null?f:D,Or=(0,$r.Z)(function(a){f===void 0&&S(a)});(0,tr.Z)(function(){S(f||!1)},[f]);var Nr=o.useRef(b);Nr.current=b;var Rr=o.useRef([]);Rr.current=[];var ve=(0,$r.Z)(function(a){var l;Or(a),((l=Rr.current[Rr.current.length-1])!==null&&l!==void 0?l:b)!==a&&(Rr.current.push(a),d==null||d(a))}),se=o.useRef(),Er=function(){clearTimeout(se.current)},ar=function(l){var M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;Er(),M===0?ve(l):se.current=setTimeout(function(){ve(l)},M*1e3)};o.useEffect(function(){return Er},[]);var Ie=o.useState(!1),fe=(0,B.Z)(Ie,2),_r=fe[0],ce=fe[1];(0,tr.Z)(function(a){(!a||b)&&ce(!0)},[b]);var Fr=o.useState(null),Ar=(0,B.Z)(Fr,2),yr=Ar[0],Vr=Ar[1],be=o.useState([0,0]),de=(0,B.Z)(be,2),Lr=de[0],De=de[1],pr=function(l){De([l.clientX,l.clientY])},Ur=Va(b,V,O?Lr:er,nr,L,z,Ir),U=(0,B.Z)(Ur,11),qe=U[0],Ne=U[1],Le=U[2],jr=U[3],Te=U[4],Ye=U[5],Jr=U[6],$e=U[7],Xe=U[8],ur=U[9],Cr=U[10],he=Ra(hr,m,c,N),We=(0,B.Z)(he,2),Tr=We[0],Qr=We[1],ge=Tr.has("click"),re=Qr.has("click")||Qr.has("contextMenu"),Mr=(0,$r.Z)(function(){_r||Cr()}),Oe=function(){Nr.current&&O&&re&&ar(!1)};Ua(b,er,V,Mr,Oe),(0,tr.Z)(function(){Mr()},[Lr,nr]),(0,tr.Z)(function(){b&&!(L!=null&&L[nr])&&Mr()},[JSON.stringify(z)]);var _e=o.useMemo(function(){var a=Aa(L,v,ur,O);return Gr()(a,C==null?void 0:C(ur))},[ur,C,L,v,O]);o.useImperativeHandle(n,function(){return{nativeElement:Ze.current,popupElement:ue.current,forceAlign:Mr}});var pe=o.useState(0),ze=(0,B.Z)(pe,2),ra=ze[0],ea=ze[1],aa=o.useState(0),xe=(0,B.Z)(aa,2),ta=xe[0],na=xe[1],Be=function(){if(G&&er){var l=er.getBoundingClientRect();ea(l.width),na(l.height)}},Y=function(){Be(),Mr()},ke=function(l){ce(!1),Cr(),R==null||R(l)},He=function(){return new Promise(function(l){Be(),Vr(function(){return l})})};(0,tr.Z)(function(){yr&&(Cr(),yr(),Vr(null))},[yr]);function X(a,l,M,T){Dr[a]=function(P){var Ae;T==null||T(P),ar(l,M);for(var ua=arguments.length,Za=new Array(ua>1?ua-1:0),Ve=1;Ve<ua;Ve++)Za[Ve-1]=arguments[Ve];(Ae=q[a])===null||Ae===void 0||Ae.call.apply(Ae,[q,P].concat(Za))}}(ge||re)&&(Dr.onClick=function(a){var l;Nr.current&&re?ar(!1):!Nr.current&&ge&&(pr(a),ar(!0));for(var M=arguments.length,T=new Array(M>1?M-1:0),P=1;P<M;P++)T[P-1]=arguments[P];(l=q.onClick)===null||l===void 0||l.call.apply(l,[q,a].concat(T))}),ja(b,re,er,V,u,Zr,gr,ar);var ee=Tr.has("hover"),Re=Qr.has("hover"),ae,Ee;ee&&(X("onMouseEnter",!0,E,function(a){pr(a)}),X("onPointerEnter",!0,E,function(a){pr(a)}),ae=function(l){(b||_r)&&V!==null&&V!==void 0&&V.contains(l.target)&&ar(!0,E)},O&&(Dr.onMouseMove=function(a){var l;(l=q.onMouseMove)===null||l===void 0||l.call(q,a)})),Re&&(X("onMouseLeave",!1,k),X("onPointerLeave",!1,k),Ee=function(){ar(!1,k)}),Tr.has("focus")&&X("onFocus",!0,W),Qr.has("focus")&&X("onBlur",!1,w),Tr.has("contextMenu")&&(Dr.onContextMenu=function(a){var l;Nr.current&&Qr.has("contextMenu")?ar(!1):(pr(a),ar(!0)),a.preventDefault();for(var M=arguments.length,T=new Array(M>1?M-1:0),P=1;P<M;P++)T[P-1]=arguments[P];(l=q.onContextMenu)===null||l===void 0||l.call.apply(l,[q,a].concat(T))}),Yr&&(Dr.className=Gr()(q.className,Yr));var me=(0,A.Z)((0,A.Z)({},q),Dr),Fe={},oa=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];oa.forEach(function(a){F[a]&&(Fe[a]=function(){for(var l,M=arguments.length,T=new Array(M),P=0;P<M;P++)T[P]=arguments[P];(l=me[a])===null||l===void 0||l.call.apply(l,[me].concat(T)),F[a].apply(F,T)})});var ia=o.cloneElement(Hr,(0,A.Z)((0,A.Z)({},me),Fe)),la={x:Ye,y:Jr},Ka=dr?(0,A.Z)({},dr!==!0?dr:{}):null;return o.createElement(o.Fragment,null,o.createElement(sa.Z,{disabled:!b,ref:Ke,onResize:Y},o.createElement(ka,{getTriggerDOMNode:le},ia)),o.createElement(da.Provider,{value:Ce},o.createElement(xa,{portal:r,ref:p,prefixCls:v,popup:zr,className:Gr()(sr,_e),style:fr,target:er,onMouseEnter:ae,onMouseLeave:Ee,onPointerEnter:ae,zIndex:g,open:b,keepDom:_r,fresh:or,onClick:ie,mask:u,motion:J,maskMotion:we,onVisibleChanged:ke,onPrepare:He,forceRender:wr,autoDestroy:Xr,getPopupContainer:vr,align:ur,arrow:Ka,arrowPos:la,ready:qe,offsetX:Ne,offsetY:Le,offsetR:jr,offsetB:Te,onAlign:Mr,stretch:G,targetWidth:ra/$e,targetHeight:ta/Xe})))});return t}var Ga=Qa(va.Z)}}]);
