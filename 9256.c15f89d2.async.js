"use strict";(self.webpackChunknicecode=self.webpackChunknicecode||[]).push([[9256],{99256:function(Je,ye,y){y.d(ye,{qX:function(){return se},JB:function(){return Ee},lm:function(){return Fe}});var b=y(13405),I=y(18534),ie=y(57596),o=y(85170),j=y(28730),Ce=y(15286),z=y(48063),Y=y(20237),Ne=y(82187),Q=y.n(Ne),ge=y(22344),he=y(4642),ke=o.forwardRef(function(e,s){var l=e.prefixCls,f=e.style,c=e.className,u=e.duration,C=u===void 0?4.5:u,L=e.eventKey,R=e.content,A=e.closable,T=e.closeIcon,D=T===void 0?"x":T,d=e.props,N=e.onClick,v=e.onNoticeClose,P=e.times,k=e.hovering,m=o.useState(!1),M=(0,I.Z)(m,2),S=M[0],x=M[1],g=k||S,E=function(){v(L)},r=function(t){(t.key==="Enter"||t.code==="Enter"||t.keyCode===he.Z.ENTER)&&E()};o.useEffect(function(){if(!g&&C>0){var n=setTimeout(function(){E()},C*1e3);return function(){clearTimeout(n)}}},[C,g,P]);var a="".concat(l,"-notice");return o.createElement("div",(0,z.Z)({},d,{ref:s,className:Q()(a,c,(0,Y.Z)({},"".concat(a,"-closable"),A)),style:f,onMouseEnter:function(t){var i;x(!0),d==null||(i=d.onMouseEnter)===null||i===void 0||i.call(d,t)},onMouseLeave:function(t){var i;x(!1),d==null||(i=d.onMouseLeave)===null||i===void 0||i.call(d,t)},onClick:N}),o.createElement("div",{className:"".concat(a,"-content")},R),A&&o.createElement("a",{tabIndex:0,className:"".concat(a,"-close"),onKeyDown:r,onClick:function(t){t.preventDefault(),t.stopPropagation(),E()}},D))}),se=ke,re=o.createContext({}),xe=function(s){var l=s.children,f=s.classNames;return o.createElement(re.Provider,{value:{classNames:f}},l)},Ee=xe,Se=y(64634),ce=8,le=3,ue=16,Ze=function(s){var l={offset:ce,threshold:le,gap:ue};if(s&&(0,Se.Z)(s)==="object"){var f,c,u;l.offset=(f=s.offset)!==null&&f!==void 0?f:ce,l.threshold=(c=s.threshold)!==null&&c!==void 0?c:le,l.gap=(u=s.gap)!==null&&u!==void 0?u:ue}return[!!s,l]},Re=Ze,Ae=["className","style","classNames","styles"],Le=function(s){var l,f=s.configList,c=s.placement,u=s.prefixCls,C=s.className,L=s.style,R=s.motion,A=s.onAllNoticeRemoved,T=s.onNoticeClose,D=s.stack,d=(0,o.useContext)(re),N=d.classNames,v=(0,o.useRef)({}),P=(0,o.useState)(null),k=(0,I.Z)(P,2),m=k[0],M=k[1],S=(0,o.useState)([]),x=(0,I.Z)(S,2),g=x[0],E=x[1],r=f.map(function(h){return{config:h,key:String(h.key)}}),a=Re(D),n=(0,I.Z)(a,2),t=n[0],i=n[1],Z=i.offset,F=i.threshold,p=i.gap,O=t&&(g.length>0||r.length<=F),Ke=typeof R=="function"?R(c):R;return(0,o.useEffect)(function(){t&&g.length>1&&E(function(h){return h.filter(function(K){return r.some(function(B){var $=B.key;return K===$})})})},[g,r,t]),(0,o.useEffect)(function(){var h;if(t&&v.current[(h=r[r.length-1])===null||h===void 0?void 0:h.key]){var K;M(v.current[(K=r[r.length-1])===null||K===void 0?void 0:K.key])}},[r,t]),o.createElement(ge.V4,(0,z.Z)({key:c,className:Q()(u,"".concat(u,"-").concat(c),N==null?void 0:N.list,C,(l={},(0,Y.Z)(l,"".concat(u,"-stack"),!!t),(0,Y.Z)(l,"".concat(u,"-stack-expanded"),O),l)),style:L,keys:r,motionAppear:!0},Ke,{onAllRemoved:function(){A(c)}}),function(h,K){var B=h.config,$=h.className,We=h.style,Oe=h.index,ve=B,q=ve.key,be=ve.times,H=String(q),G=B,je=G.className,pe=G.style,J=G.classNames,V=G.styles,Ge=(0,ie.Z)(G,Ae),_=r.findIndex(function(w){return w.key===H}),X={};if(t){var U=r.length-1-(_>-1?_:Oe-1),de=c==="top"||c==="bottom"?"-50%":"0";if(U>0){var ee,te,ne;X.height=O?(ee=v.current[H])===null||ee===void 0?void 0:ee.offsetHeight:m==null?void 0:m.offsetHeight;for(var me=0,oe=0;oe<U;oe++){var ae;me+=((ae=v.current[r[r.length-1-oe].key])===null||ae===void 0?void 0:ae.offsetHeight)+p}var Ue=(O?me:U*Z)*(c.startsWith("top")?1:-1),Qe=!O&&m!==null&&m!==void 0&&m.offsetWidth&&(te=v.current[H])!==null&&te!==void 0&&te.offsetWidth?((m==null?void 0:m.offsetWidth)-Z*2*(U<3?U:3))/((ne=v.current[H])===null||ne===void 0?void 0:ne.offsetWidth):1;X.transform="translate3d(".concat(de,", ").concat(Ue,"px, 0) scaleX(").concat(Qe,")")}else X.transform="translate3d(".concat(de,", 0, 0)")}return o.createElement("div",{ref:K,className:Q()("".concat(u,"-notice-wrapper"),$,J==null?void 0:J.wrapper),style:(0,j.Z)((0,j.Z)((0,j.Z)({},We),X),V==null?void 0:V.wrapper),onMouseEnter:function(){return E(function(W){return W.includes(H)?W:[].concat((0,b.Z)(W),[H])})},onMouseLeave:function(){return E(function(W){return W.filter(function(Be){return Be!==H})})}},o.createElement(se,(0,z.Z)({},Ge,{ref:function(W){_>-1?v.current[H]=W:delete v.current[H]},prefixCls:u,classNames:J,styles:V,className:Q()(je,N==null?void 0:N.notice),style:pe,times:be,key:q,eventKey:q,onNoticeClose:T,hovering:t&&g.length>0})))})},Pe=Le,Me=o.forwardRef(function(e,s){var l=e.prefixCls,f=l===void 0?"rc-notification":l,c=e.container,u=e.motion,C=e.maxCount,L=e.className,R=e.style,A=e.onAllRemoved,T=e.stack,D=e.renderNotifications,d=o.useState([]),N=(0,I.Z)(d,2),v=N[0],P=N[1],k=function(n){var t,i=v.find(function(Z){return Z.key===n});i==null||(t=i.onClose)===null||t===void 0||t.call(i),P(function(Z){return Z.filter(function(F){return F.key!==n})})};o.useImperativeHandle(s,function(){return{open:function(n){P(function(t){var i=(0,b.Z)(t),Z=i.findIndex(function(O){return O.key===n.key}),F=(0,j.Z)({},n);if(Z>=0){var p;F.times=(((p=t[Z])===null||p===void 0?void 0:p.times)||0)+1,i[Z]=F}else F.times=0,i.push(F);return C>0&&i.length>C&&(i=i.slice(-C)),i})},close:function(n){k(n)},destroy:function(){P([])}}});var m=o.useState({}),M=(0,I.Z)(m,2),S=M[0],x=M[1];o.useEffect(function(){var a={};v.forEach(function(n){var t=n.placement,i=t===void 0?"topRight":t;i&&(a[i]=a[i]||[],a[i].push(n))}),Object.keys(S).forEach(function(n){a[n]=a[n]||[]}),x(a)},[v]);var g=function(n){x(function(t){var i=(0,j.Z)({},t),Z=i[n]||[];return Z.length||delete i[n],i})},E=o.useRef(!1);if(o.useEffect(function(){Object.keys(S).length>0?E.current=!0:E.current&&(A==null||A(),E.current=!1)},[S]),!c)return null;var r=Object.keys(S);return(0,Ce.createPortal)(o.createElement(o.Fragment,null,r.map(function(a){var n=S[a],t=o.createElement(Pe,{key:a,configList:n,placement:a,prefixCls:f,className:L==null?void 0:L(a),style:R==null?void 0:R(a),motion:u,onNoticeClose:k,onAllNoticeRemoved:g,stack:T});return D?D(t,{prefixCls:f,key:a}):t})),c)}),He=Me,Ie=["getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications"],Te=function(){return document.body},fe=0;function De(){for(var e={},s=arguments.length,l=new Array(s),f=0;f<s;f++)l[f]=arguments[f];return l.forEach(function(c){c&&Object.keys(c).forEach(function(u){var C=c[u];C!==void 0&&(e[u]=C)})}),e}function Fe(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=e.getContainer,l=s===void 0?Te:s,f=e.motion,c=e.prefixCls,u=e.maxCount,C=e.className,L=e.style,R=e.onAllRemoved,A=e.stack,T=e.renderNotifications,D=(0,ie.Z)(e,Ie),d=o.useState(),N=(0,I.Z)(d,2),v=N[0],P=N[1],k=o.useRef(),m=o.createElement(He,{container:v,ref:k,prefixCls:c,motion:f,maxCount:u,className:C,style:L,onAllRemoved:R,stack:A,renderNotifications:T}),M=o.useState([]),S=(0,I.Z)(M,2),x=S[0],g=S[1],E=o.useMemo(function(){return{open:function(a){var n=De(D,a);(n.key===null||n.key===void 0)&&(n.key="rc-notification-".concat(fe),fe+=1),g(function(t){return[].concat((0,b.Z)(t),[{type:"open",config:n}])})},close:function(a){g(function(n){return[].concat((0,b.Z)(n),[{type:"close",key:a}])})},destroy:function(){g(function(a){return[].concat((0,b.Z)(a),[{type:"destroy"}])})}}},[]);return o.useEffect(function(){P(l())}),o.useEffect(function(){k.current&&x.length&&(x.forEach(function(r){switch(r.type){case"open":k.current.open(r.config);break;case"close":k.current.close(r.key);break;case"destroy":k.current.destroy();break}}),g(function(r){return r.filter(function(a){return!x.includes(a)})}))},[x]),[E,m]}}}]);
